<h1>Your Profile</h1>

<a href="{% url 'dashboard' %}" style="padding: 8px 15px; background-color: #95a5a6; color: white; text-decoration: none; border-radius: 4px; display: inline-block; margin-bottom: 20px;">
  â† Back to Dashboard
</a>

<hr>

<div style="max-width: 600px; border: 1px solid #ddd; padding: 30px; border-radius: 5px; background-color: #f9f9f9;">
  <h2 style="margin-top: 0;">Account Information</h2>

  <form method="POST" style="display: flex; flex-direction: column; gap: 20px;">
    {% csrf_token %}

    <div>
      <label for="username" style="display: block; margin-bottom: 5px; font-weight: bold;">Username</label>
      <input type="text" id="username" value="{{ user.username }}" disabled style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; background-color: #ecf0f1; cursor: not-allowed;">
      <p style="margin: 5px 0 0 0; font-size: 12px; color: #7f8c8d;">Username cannot be changed</p>
    </div>

    <div>
      <label for="email" style="display: block; margin-bottom: 5px; font-weight: bold;">Email Address</label>
      <input type="email" id="email" name="email" value="{{ user.email }}" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px;" required>
    </div>

    <div>
      <label for="first_name" style="display: block; margin-bottom: 5px; font-weight: bold;">First Name</label>
      <input type="text" id="first_name" name="first_name" value="{{ user.first_name }}" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px;">
    </div>

    <div>
      <label for="last_name" style="display: block; margin-bottom: 5px; font-weight: bold;">Last Name</label>
      <input type="text" id="last_name" name="last_name" value="{{ user.last_name }}" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px;">
    </div>

    <div style="margin-top: 10px;">
      <button type="submit" style="padding: 12px 30px; background-color: #2ecc71; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; font-weight: bold;">
        Save Changes
      </button>
    </div>
  </form>

  <hr style="margin: 30px 0;">

  <div style="background-color: #d5f4e6; border: 1px solid #27ae60; padding: 15px; border-radius: 4px; margin-bottom: 20px;">
    <p style="margin: 0; color: #27ae60;"><strong>âœ“ Changes saved successfully!</strong></p>
  </div>
</div>

<div style="max-width: 600px; margin-top: 30px; border: 1px solid #ddd; padding: 20px; border-radius: 5px; background-color: #f9f9f9;">
  <h3 style="margin-top: 0;">Shipping Address</h3>
  
  {% if address %}
    <div style="background-color: #f0f8ff; border: 1px solid #3498db; padding: 15px; border-radius: 4px; margin-bottom: 15px;">
      <p style="margin: 0 0 10px 0;"><strong>ğŸ“ Current Address</strong></p>
      <p style="margin: 5px 0;"><strong>{{ address.full_name }}</strong></p>
      <p style="margin: 5px 0;">{{ address.address_line_1 }}{% if address.address_line_2 %}, {{ address.address_line_2 }}{% endif %}</p>
      <p style="margin: 5px 0;">{{ address.city }}, {{ address.state }} - {{ address.postal_code }}</p>
      <p style="margin: 5px 0;">{{ address.country }}</p>
      <p style="margin: 10px 0 0 0; color: #7f8c8d; font-size: 12px;">Phone: {{ address.phone }}</p>
      <p style="margin: 5px 0 0 0; color: #7f8c8d; font-size: 12px;">Updated: {{ address.updated_at|date:"M d, Y" }}</p>
    </div>

    <a href="{% url 'manage_address' %}" style="padding: 10px 20px; background-color: #3498db; color: white; text-decoration: none; border-radius: 4px; display: inline-block;">
      âœ Edit Address
    </a>
  {% else %}
    <div style="background-color: #fff9e6; border: 1px solid #f39c12; padding: 15px; border-radius: 4px; margin-bottom: 15px;">
      <p style="margin: 0; color: #d68910;"><strong>âš ï¸ No address on file.</strong> Add one for faster checkout.</p>
    </div>

    <a href="{% url 'manage_address' %}" style="padding: 10px 20px; background-color: #2ecc71; color: white; text-decoration: none; border-radius: 4px; display: inline-block;">
      + Add Address
    </a>
  {% endif %}
</div>

<div style="max-width: 600px; margin-top: 30px;">
  <a href="/accounts/logout/" style="padding: 10px 20px; background-color: #e74c3c; color: white; text-decoration: none; border-radius: 4px;">
    Logout
  </a>
</div>
